```mermaid
graph TD
    A(Input: Flow Data\n[B, T, C, H, W]) --> BTemporalFPN]
    B --> C[Bottom-up Pathway]
    C --> D[conv1: 3D Conv + BN + ReLU]
    D --> E[conv2: 3D Conv + BN + ReLU]
    E --> F[conv3: 3D Conv + BN + ReLU]
    B --> G[Top-down Pathway]
    F --> H[lateral_conv1: 1x1x1 Conv]
    E --> I[lateral_conv2: 1x1x1 Conv]
    D --> J[lateral_conv3: 1x1x1 Conv]
    H --> K[up_conv1: 3D Transposed Conv + BN + ReLU]
    I --> L[up_conv2: 3D Transposed Conv + BN + ReLU]
    K --> M[Feature Fusion]
    L --> M
    J --> N[Upsample]
    M --> O[Final Fusion Layer: 3D Conv + BN + ReLU + 3D Conv]
    N --> O
    O --> P[Output: [B, T, C, H, W]]

```